pico-8 cartridge // http://www.pico-8.com
version 32
__lua__
fire = {}

function _update()
	if btn(‚ùé) then 
		spawn_fire(64,128)
	end	
	
	update_fire()
end

function _draw()
	cls()
	draw_fire()	
end

function spawn_fire(x,y)
	local rx= rnd(2)
	part={x=x,y=y,dx=0,rx=rx,
		dy=-1,age=15}
	add(fire,part)
end

function update_fire()
	for part in all(fire) do
		part.y += part.dy
		part.x = part.x+
			cos(6.28/(15-part.age))*
				part.rx
		part.age -= 1
		if part.age <= 0 then
			del(fire, part)
		end
	end
end

function draw_fire(x,y)
	for part in all(fire) do
		pset(part.x,part.y,4)
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
